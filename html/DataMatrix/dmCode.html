<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		#box{
			overflow: hidden;
			margin:0 auto;
		}
		.bai,.hei{
			/*width:10px;
			height:10px;*/
			float: left;
		}
		.bai{
			background: #fff;
		}
		.hei{
			background: #000;
		}
	</style>
</head>
<body>
	<input type="number" id="size" name="">
	<button id="btn">切换尺寸(px)</button>
	<div id="box"></div>
	<div id="qr"></div>
	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
	<script src="lib/datamatrix.js" type="text/javascript"></script>
	<script type="text/javascript">
		var dm = new Datamatrix();
		var ascii = dm.getDigit('35029236757690164040196938237',false);
		$("#size").val(200)
		create();
		$("#btn").click(function(){
			$("#box").empty();
		   	create();
		})
		function create(){
			var asciiArr1 = ascii.split('\n');
		    var len = asciiArr1.length;
		    var asciiArr2 = [];
		    // console.log(ascii)
		    // console.log(ascii.split('\n'));
		    // $("#box").css({width:len*10+'px',height:len*10+'px',background:'blue'})
		    $("#box").css({width:$("#size").val()+'px',height:$("#size").val()+'px'})

		    for(var i = 0;i < asciiArr1.length;i++){
		    	asciiArr2.push(asciiArr1[i].split(''))

		    }
		    for(var m = 0;m < asciiArr2.length; m++){

		    	for(var n = 0;n < asciiArr2[m].length;n++){
		    		if(asciiArr2[m][n]==0){
		    			$("#box").append('<div id="qr" style="width:'+$("#size").val()/len+'px;height:'+$("#size").val()/len+'px;background:#fff;float:left; class="bai"></div>')
		    		}else{
		    			$("#box").append('<div id="qr" style="width:'+$("#size").val()/len+'px;height:'+$("#size").val()/len+'px;background:#000;float:left; class="hei"></div>')
		    		}
		    		
		    		
		    	}
		    }
		}	    
	</script>
</body>
</html>